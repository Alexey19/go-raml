sudo: required
dist: trusty
language: go

install:
  - sudo apt-get install capnproto
  - go get -u github.com/jteeuwen/go-bindata/...
  - sudo apt-get install -y python3 python3-pip
  - sudo pip3 install autopep8
go:
  - 1.8
  - 1.9

script:
  - ./build_apidocs.sh
  - make install
  - make test
  - make gentest
  - cd codegen/python/gentest && sudo pip3 install -r requirements.txt && nose2
