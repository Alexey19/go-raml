{{- define "server_main_python_sanic" -}}
from sanic import Sanic
from sanic.response import json

{{ range $k, $v := .ResourcesDef -}}
from {{.Name | ToLower}}_if import {{.Name | ToLower}}_if
{{end }}

app = Sanic(__name__)

{{range $k, $v := .ResourcesDef -}}
app.blueprint({{.Name | ToLower }}_if)
{{end}}

dirpath="../generated/server/"
dirpath="./" #comment this when in js9 ramlserver

app.static('/apidocs', '%sapidocs'%dirpath)
app.static('/', '%sindex.html'%dirpath)

if __name__ == "__main__":
    app.run(debug=True, port=5000, workers=2)
{{end -}}
